<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction :: Clojurephant</title>
    <link rel="canonical" href="https://clojurephant.dev/clojurephant/main/index.html">
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://clojurephant.dev">Clojurephant</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs"  autofocus>
        </div>
      </div>

      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="index.html">clojurephant</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Repositories</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/clojurephant/clojurephant">clojurephant</a>
            <a class="navbar-item" href="https://github.com/clojurephant/sample-clojurephant-clj-lib">
              sample-clojurephant-clj-lib
            </a>
            <a class="navbar-item" href="https://github.com/clojurephant/sample-clojurephant-clj-app">
              sample-clojurephant-clj-app
            </a>
            <a class="navbar-item" href="https://github.com/clojurephant/sample-clojurephant-cljs-app">
              sample-clojurephant-cljs-app
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="clojurephant" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">clojurephant</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Introduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="tutorials/index.html">Tutorials (ðŸš§)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorials/new-gradle.html">New Gradle Users</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorials/new-clojure.html">New Clojure Users (ðŸš§)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="howto/index.html">How-To Guides (ðŸš§)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="howto/faq.html">Frequently Asked Questions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="howto/migrate-lein.html">Migrating from Leiningen (ðŸš§)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="howto/migrate-boot.html">Migrating from Boot (ðŸš§)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="howto/migrate-deps.html">Migrating from deps.edn (ðŸš§)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="reference/index.html">Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugins</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/plugins/clojure.html">clojure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/plugins/clojurescript.html">clojurescript</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/plugins/clojure-base.html">clojure-base</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/plugins/clojurescript-base.html">clojurescript-base</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="reference/dsl/clojureextension.html">Clojure DSL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/dsl/clojurebuild.html">Build</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/dsl/clojurecompileoptions.html">CompileOptions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="reference/dsl/clojurescriptextension.html">ClojureScript DSL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/dsl/clojurescriptbuild.html">Build</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/dsl/clojurescriptcompileoptions.html">CompileOptions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tasks</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/tasks/clojurecheck.html">ClojureCheck</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/tasks/clojurecompile.html">ClojureCompile</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/tasks/clojurenrepl.html">ClojureNRepl</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reference/tasks/clojurescriptcompile.html">ClojureScriptCompile</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="explanation/index.html">Explanation (ðŸš§)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">clojurephant</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">clojurephant</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">clojurephant</a></li>
    <li><a href="index.html">Introduction</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/clojurephant/clojurephant/edit/main/docs/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Introduction</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Clojurephant (<a href="https://github.com/clojurephant/clojurephant">GitHub Repo</a>) is a Gradle plugin providing support for Clojure and ClojureScript projects.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
clojurephant should not be considered stable before v1.0. Until then, minor versions will often contain breaking changes.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rationale"><a class="anchor" href="#_rationale"></a>Rationale</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Gradle is a popular build tool in the JVM ecosysytem with a rich plugin ecosystem and support for polyglot projects.</p>
</div>
<div class="paragraph">
<p>In particular, if you have a need to interop with Java code (maybe even other JVM languages), Gradle provides a good base of support.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_gradle"><a class="anchor" href="#_gradle"></a>Gradle</h3>
<div class="paragraph">
<p>Features provided by Gradle (or its ecosystem) that are useful for Clojure programmers.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Packaging into ZIPs, JARs, or Uberjars (via the third-party <a href="http://imperceptiblethoughts.com/shadow/">Shadow plugin</a>)</p>
</li>
<li>
<p>Multi-project builds</p>
</li>
<li>
<p>Publishing to Maven repositories (such as Clojars or Maven Central)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_clojureclojurescript"><a class="anchor" href="#_clojureclojurescript"></a>Clojure/ClojureScript</h3>
<div class="paragraph">
<p>Unique features provided by Clojurephant.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Running <code>clojure.test</code> tests with Gradle&#8217;s out-of-box <code>Test</code> task (via the <a href="https://github.com/ajoberstar/jovial">jovial</a> Junit Platform Engine)</p>
</li>
<li>
<p>Clojure AOT compilation</p>
</li>
<li>
<p>ClojureScript compilation (supporting multiple builds)</p>
</li>
<li>
<p>Running an nREPL server (supporting custom middleware or handlers)</p>
<div class="ulist">
<ul>
<li>
<p>Supporting "jack-in" dependencies</p>
</li>
<li>
<p>Enriching classpath with dependencies' sources/javadoc by default</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
ClojureScript features, in particular, are not fully settled and may change before 1.0.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_notes"><a class="anchor" href="#_release_notes"></a>Release Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See the <a href="https://github.com/clojurephant/clojurephant/releases">GitHub releases</a> for the changelog of each version.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_start"><a class="anchor" href="#_quick_start"></a>Quick Start</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Look at our sample projects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/clojurephant/sample-clojurephant-clj-lib" class="bare">https://github.com/clojurephant/sample-clojurephant-clj-lib</a></p>
</li>
<li>
<p><a href="https://github.com/clojurephant/sample-clojurephant-clj-app" class="bare">https://github.com/clojurephant/sample-clojurephant-clj-app</a></p>
</li>
<li>
<p><a href="https://github.com/clojurephant/sample-clojurephant-cljs-app" class="bare">https://github.com/clojurephant/sample-clojurephant-cljs-app</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the samples or our documentation doesn&#8217;t answer your questions, please ask in <a href="https://github.com/clojurephant/clojurephant/discussions">Clojurephant Discussions</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_project_layout"><a class="anchor" href="#_project_layout"></a>Project Layout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This the default layout, which can be configured via Gradle&#8217;s <code>sourceSets</code> extension.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;project&gt;/
  settings.gradle
  build.gradle
  gradlew
  gradlew.bat
  gradle/
    wrapper/
      gradle-wrapper.jar
      gradle-wrapper.properties
  src/
    main/
      clojure/
        sample_clojure/
          core.clj
      clojurescript/
        sample_clojure/
          main.cljs
    test/
      clojure/
        sample_clojure/
          core_test.clj
      clojurescript/
        sample_clojure/
          main_test.cljs // right now we don't support cljs.test
    dev/
      clojure/
        user.clj
      clojurescript/
        user.cljs</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_script"><a class="anchor" href="#_build_script"></a>Build Script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A sample, relatively complete build file for a full-stack project looks like this:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">plugins {
  id 'dev.clojurephant.clojure' version '0.7.0-beta.1'
  id 'dev.clojurephant.clojurescript' version '0.7.0-beta.1'
}

repositories {
  mavenCentral()
  maven {
    name = 'clojars'
    url = 'https://repo.clojars.org'
  }
}

dependencies {
  // clojure
  implementation 'org.clojure:clojure:1.11.1'
  implementation 'org.clojure:clojurescript:1.11.60'

  // testing
  testRuntimeOnly 'org.ajoberstar:jovial:0.3.0'

  // backend
  implementation 'io.pedestal:pedestal.service:0.5.10'
  implementation 'io.pedestal:pedestal.jetty:0.5.10'

  // frontend
  implementation 're-frame:re-frame:1.2.0'

  // component
  implementation 'com.stuartsierra:component:1.1.0'
  devImplementation 'com.stuartsierra:component.repl:0.2.0'

  // figwheel
  devImplementation 'com.bhauman:figwheel-repl:0.2.18'
  devImplementation 'ring:ring-jetty-adapter:1.9.5'
}

tasks.withType(Test) {
  useJUnitPlatform()
}

clojure {
  builds {
    main {
      aotNamespaces.add('sample.core')
      reflection = 'warn'
    }
  }
}

clojurescript {
  builds {
    all {
      compiler {
        outputTo = 'public/js/main.js'
        outputDir = 'public/js/out'
        assetPath = '/js/out'
        main = 'sample.main'
      }
    }
    main {
      compiler {
        optimizations = 'advanced'
        sourceMap = 'public/js/main.js.map'
      }
    }
    dev {
      compiler {
        optimizations = 'none'
        sourceMap = true
        preloads = ['sample.dev']
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation"><a class="anchor" href="#_documentation"></a>Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Documentation is divided into sections based on your need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="tutorials/new-gradle.html" class="xref page">New Gradle Users</a> - learning-oriented</p>
</li>
<li>
<p><a href="howto/faq.html" class="xref page">Frequently Asked Questions</a> - task-oriented</p>
</li>
<li>
<p><a href="reference/index.html" class="xref page">Reference</a> - information-oriented</p>
</li>
<li>
<p><a href="explanation/index.html" class="xref page">Explanation (ðŸš§)</a> - understanding-oriented</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Many of these sections are still under-construction so please give feedback on what would be most useful to you.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
